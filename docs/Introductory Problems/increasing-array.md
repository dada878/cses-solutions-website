---
sidebar_position: 4
---

Increasing Array
===

題目
---
給定一個長度為 $n$ 的整數陣列，你的目標是要調整這個陣列使得它是遞增的，也就是說陣列中的每一項都大於等於前一項。

每次操作，你可以對陣列中任意一項加一。請問要達到目標至少要做幾次操作？

### 輸入
- 第一行輸入一個整數 $n$。（$1 \le n \le 2 \cdot 10^5$）
- 第二行輸入 $n$ 個整數 $x_i$。（$1 \le x_i \le 10^9$）

### 輸出
輸出要達到目標的最少操作次數。

範例測資
---
```
Input:
5
3 2 5 1 7

Output:
5
```
第二項的 $2$ 加一一次變成 $3$

第四項的 $1$ 加一四次變成 $5$

最終的序列會變成
```
3 3 5 5 7
```
每一項都大於等於前一項

想法
---
假設原本輸入的陣列為 $(x_i)_{i=1}^n$，而操作完的結果陣列為 $(y_i)_{i=1}^n$。

因為每次操作都只能增加數字，所以 $y_i \ge x_i$。又因為結果陣列要是遞增的，所以 $y_i \ge y_{i-1}$。上面兩個條件綜合起來就是 $y_i \ge \max(x_i, y_{i-1})$，而為了讓操作數最小，我們只要讓結果恰恰好滿足這個條件即可，也就是 $y_i = \max(x_i, y_{i-1})$。

因為 $y_i = \max(x_i, y_{i-1})$，根據 $x_i$ 與 $y_{i-1}$ 的大小關係，有下面兩種情況：
- $x_i < y_{i-1}$：所以 $y_i = y_{i-1}$，而這一項的操作數為 $y_i - x_i = y_{i-1} - x_i$；
- $x_i \ge y_{i-1}$：所以 $y_i = x_i$，而這一項的操作數為 $y_i - x_i = 0$。

我們可以直接遍歷整個陣列，算出每一項的操作數並加進結果。要求出目前的操作結果 $y_i$，我們不需要記錄整個結果陣列，只需要記錄前一項的操作結果 $y_{i-1}$ 即可。

注意答案可能會超過 `int` 範圍。

### 範例程式碼
<details>
<summary>C++ 範例</summary>
```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
    long long ans = 0;
    int n, pre, x;
    cin >> n;
    cin >> pre;
    for (int i = 1; i < n; i++) {
        cin >> x;
        if (x < pre) {
            ans += pre - x;
        } else {
            pre = x;
        }
    }
    cout << ans;
}
```
</details>